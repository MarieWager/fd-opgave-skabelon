---
import financialProjections from "@data/financialProjections.json";
import Cal from "@icons/cal.svg";
import Card from "@icons/card.svg";
import Law from "@icons/law.svg";
import Money from "@icons/money.svg";
import LeftArrow from "@icons/arrow-left.svg";
import RightArrow from "@icons/arrow--right.svg";

const iconArr = {
  cal: Cal,
  card: Card,
  law: Law,
  money: Money,
};
---

<section class="full">
  <article>
    <div>
      <h2>{financialProjections.title}</h2>
      <p>{financialProjections.subtitle}</p>
    </div>
    <div class="arrows">
      <button>
        <a href="#scroll-left" aria-label="Scroll left">
          <LeftArrow class="left" />
        </a>
      </button>
      <button>
        <a href="#scroll-right" aria-label="Scroll right">
          <RightArrow class="right" />
        </a>
      </button>
    </div>
  </article>

  <ul id="scroll-area" role="list">
    {
      financialProjections.values.map((card) => {
        const Icon = iconArr[card.icon];
        return (
          <li>
            {Icon && <Icon />}
            <h3>{card.title}</h3>
            <p>{card.description}</p>
          </li>
        );
      })
    }
  </ul>
</section>

<style>
  @layer components {
    section {
      display: grid;
      grid-template-columns: 1fr minmax(0, 1040px) 1fr;
      background-color: var(--grey);
      padding: 3rem 0 2rem 0;
      gap: 2rem;
      margin-top: 140px;

      > * {
        grid-column: 2;
      }

      :last-child {
        grid-column: 1 / -1;
      }
    }

    article {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 45px;
    }

    .arrows {
      margin: 0;
      padding: 0;
      display: flex;
      gap: 25px;

      .left,
      .right {
        border-radius: 50%;
        width: 70px;
        height: 70px;
        padding: 18px;
        transition: all 0.3s ease;
      }

      .left {
        background: var(--darkest);
        color: var(--white);
        border: 2px solid var(--darkest);
      }
      button:hover .left {
        background: var(--grey);
        color: var(--darkest);
      }

      .right {
        background: var(--yellow);
        color: var(--darkest);
        border: 2px solid var(--yellow);
      }
      button:hover .right {
        background: var(--grey);
        color: var(--yellow);
      }
    }
  }

  ul {
    scroll-snap-type: x mandatory;
    list-style: none;
    display: flex;
    gap: 20px;
    overflow-x: auto;
    width: 100%;
    height: 100%;
    margin: 0 auto;
    padding: 0 0 1rem 0;
    padding-inline: max(7rem, 50% - 1200px / 2);
  }

  li {
    scroll-snap-align: center;
    background-color: #ebebeb;
    color: var(--darkest);
    padding: 30px;
    border-radius: 20px;
    flex-basis: 20rem;
    flex-shrink: 0;
    transition: all 0.3s ease-in-out;

    h3 {
      line-height: 116%;
      margin: 24px 0 10px 0;
    }

    p {
      color: var(--slate);
    }

    #scroll-left:target ~ #scroll-area {
      scroll-behavior: smooth;
      scroll-snap-type: none;
    }

    #scroll-right:target ~ #scroll-area {
      scroll-behavior: smooth;
      scroll-snap-type: none;
    }
  }
</style>
